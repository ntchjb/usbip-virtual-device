# Research and References

## Products related to USB, USB/IP
- Mock hardware device with [umockdev](https://github.com/martinpitt/umockdev)
- Virtual FIDO over USB/IP [virtual-fido](https://github.com/bulwarkid/virtual-fido)
- Virtual USB device python [USBIP-Virtual-USB-Device](https://github.com/lcgamboa/USBIP-Virtual-USB-Device)
- FIDO on TPM via Linux's `uhid`: [tpm-fido](https://github.com/psanford/tpm-fido)
- Linux `uhid` [example](https://github.com/torvalds/linux/blob/master/samples/uhid/uhid-example.c)


## Q&A

- [Emulate USB devices](https://stackoverflow.com/questions/1913979/how-to-emulate-usb-devices)

## Research papers

- [USB/IP - usenix.org](https://www.usenix.org/legacy/events/usenix05/tech/freenix/hirofuchi/hirofuchi.pdf)
- [USB/IP](https://www.jstage.jst.go.jp/article/ipsjdc/1/0/1_0_394/_pdf/-char/en)

## Procotols & Libraries

- USB/IP Procotol on Linux Kernel: [USB/IP protocol](https://docs.kernel.org/usb/usbip_protocol.html)
- HIDAPI library: [hidapi](https://github.com/libusb/hidapi), [apis](https://libusb.info/hidapi/group__API.html)
- [USB HID specs](https://usb.org/sites/default/files/hid1_11.pdf)
- [libusb](https://libusb.sourceforge.io/api-1.0/group__libusb__syncio.html)
- [USB 3.2 specs](https://fabiensanglard.net/usbcheat/usb3.2.pdf)
- [USB 2.0 specs](http://sdpha2.ucsd.edu/Lab_Equip_Manuals/usb_20.pdf)
- [LangID HID specs](http://www.baiheee.com/Documents/090518/090518112619/USB_LANGIDs.pdf)
- [FIDO HIS protocol](https://fidoalliance.org/specs/fido-u2f-v1.0-ps-20141009/fido-u2f-hid-protocol-ps-20141009.html#hid-report-descriptor-and-device-discovery)
- [CTAP protocol](https://fidoalliance.org/specs/fido-v2.0-id-20180227/fido-client-to-authenticator-protocol-v2.0-id-20180227.html)
- UHID Linux API: [uhid](https://github.com/psanford/uhid)
- [gousb](https://pkg.go.dev/github.com/google/gousb#section-readme)
- [USB in a NutShell](https://www.beyondlogic.org/usbnutshell/usb6.shtml)
- [USB made simple](https://www.usbmadesimple.co.uk/ums_4.htm)
- [USB/IP in Linux Kernel](https://github.com/torvalds/linux/blob/master/tools/usb/usbip/libsrc/usbip_host_common.c)
- [URB on Windows](https://github.com/MicrosoftDocs/windows-driver-docs/blob/staging/windows-driver-docs-pr/usbcon/send-requests-to-the-usb-driver-stack.md)

- [hid](https://github.com/karalabe/hid/blob/master/hid_enabled.go) in Golang
- [hid](https://github.com/boombuler/hid) as well

## Ledger Nano Product

- Emulator: [speculos](https://github.com/LedgerHQ/speculos)
- ADPU protocol: [adpu](https://github.com/skythen/apdu)

## Others

- Graceful shutdown with TCP connection: https://eli.thegreenplace.net/2020/graceful-shutdown-of-a-tcp-server-in-go/